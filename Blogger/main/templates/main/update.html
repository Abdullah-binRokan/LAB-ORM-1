{% extends 'main/base.html' %}

{% load static %}

{% block title %}Update Post{% endblock %}

{% block style %}<link rel="stylesheet" href="{% static 'css/update.css' %}">{% endblock %}

{% block content %}
<div class="myhero-background myhero-background-decoration">
    <div class="myhero-blur"></div>
    <div class="myhero-content-container container">
        <h1 class="pt-5">Update {{ post.title }}</h1>
        <form action="{% url 'main:update_view' post.id  %}" method="post" enctype="multipart/form-data">
            {% csrf_token %} 
            <div class="post-form row d-flex flex-column container">
                <input class="form-control col-lg-5 my-2" placeholder="Title" type="text" name="title" value="{{ post.title }}"/>
                <textarea class="form-control col-lg-5 my-2" placeholder="Content" name="content">{{ post.content }}</textarea>
                <!-- Category dropdown -->
                <select class="form-control col-lg-5 my-2" name="category">
                    <option value="">Select Category</option>
                    <option value="TECH">Technology</option>
                    <option value="HEALTH">Health</option>
                    <option value="LIFESTYLE">Lifestyle</option>
                    <option value="SPORTS">Sports</option>
                    <option value="EDUCATION">Education</option>
                </select>
                <div class="form-check my-2"> <!-- start of is_published -->
                    <input class="form-check-input" type="checkbox" value="{{ post.is_published }}" id="flexCheckIndeterminate" name="is_published">
                    <label class="form-check-label" for="flexCheckIndeterminate">
                      Is it published
                    </label>
                </div> <!-- end of is_published -->
                <div class="row">
                    <div class="col-2"><img class="w-100 pb-2" src="{{post.image.url}}" alt=""></div>
                    <div class="col"><input class="form-control" type="file" name="image"></div>
                </div>
                <input class="col-lg-5 my-2 btn-primary rounded-3" type="submit" value="Update game" />
            </div> 
        </form>
    </div>
</div>
{% endblock %}